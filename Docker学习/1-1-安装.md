# Docker入门安装

简介：作用和虚拟机相似，可以一键部署linux mysql nginx。。。

| docker       | 虚拟机                                                       |                                                              |
| :----------- | :----------------------------------------------------------- | ------------------------------------------------------------ |
| 相同点       | 1. 都可在不同的主机之间迁移 2. 都具备 root 权限 3. 都可以远程控制 4. 都有备份、回滚操作 |                                                              |
| 操作系统     | 在性能上有优势，可以轻易的运行多个操作系统                   | 可以安装任何系统，但是性能不及容器                           |
| 原理         | 和宿主机共享内核，所有容器运行在容器引擎之上，容器并非一个完整的操作系统，所有容器共享操作系统，在进程级进行隔离 | 每一个虚拟机都建立在虚拟的硬件之上，提供指令级的虚拟，具备一个完整的操作系统 |
| 优点         | 高效、集中。一个硬件节点可以运行数以百计的的容器，非常节省资源，QoS 会尽量满足，但不保证一定满足。内核由提供者升级，服务由服务提供者管理 | 对操作系统具有绝对权限，对系统版本和系统升级具有完全的管理权限。具有一整套的的资源：CPU、RAM 和磁盘。QoS 是有保证的，每一个虚拟机就像一个真实的物理机一样，可以实现不同的操作系统运行在同一物理节点上。 |
| 资源管理     | 弹性资源分配：资源可以在没有关闭容器的情况下添加，数据卷也无需重新分配大小 | 虚拟机需要重启，虚拟机里边的操作系统需要处理新加入的资源，如磁盘等，都需要重新分区。 |
| 远程管理     | 根据操作系统的不同，可以通过 shell 或者远程桌面进行          | 远程控制由虚拟化平台提供，可以在虚拟机启动之前连接           |
| 缺点         | 对内核没有控制权限，只有容器的提供者具备升级权限。只有一个内核运行在物理节点上，几乎不能实现不同的操作系统混合。容器提供者一般仅提供少数的几个操作系统 | 每一台虚拟机都具有更大的负载，耗费更多的资源，用户需要全权维护和管理。一台物理机上能够运行的虚拟机非常有限 |
| 配置         | 快速，基本上是一键配置                                       | 配置时间长                                                   |
| 启动时间     | 秒级                                                         | 分钟级                                                       |
| 硬盘使用     | MB                                                           | GB                                                           |
| 性能         | 接近原生态                                                   | 弱于原生态                                                   |
| 系统支持数量 | 单机支持上千个                                               | 一般不多于几十个                                             |

## 核心组件

- 镜像 images

  静态模板，保存保存容器需要的环境，和应用执行代码，可以将镜像看作容器的代码，当代码运行起来就成了容器

- 容器 

  一个运行的环境，镜像的运行状态，

- 库

  特定用户存储镜像的目录，一个用户可以建立多个用户来保存自己的镜像

# 安装命令

```shell
# 首先安装 Docker
yum -y install docker

# 然后启动 Docker 服务
service docker start

# 测试安装是否成功
docker -v
```

![image-20200707220336806](https://raw.githubusercontent.com/kujin521/Typora_images/master/img/image-20200707220336806.png)